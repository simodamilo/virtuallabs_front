<div class="mat-elevation-z8 tableDiv">
    <table #table mat-table matSort [dataSource]="dataSource">
      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef class="checkboxColumn">
          <mat-checkbox
            (change)="toggleMasterTable()"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let s">
          <mat-checkbox
            (change)="toggleRowsTable($event, s)"
            [checked]="selection.isSelected(s)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- Id Column -->
      <ng-container matColumnDef="serial">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="serialColumn">Serial</th>
        <td mat-cell *matCellDef="let s">{{ s.serial }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="nameColumn">Name</th>
        <td mat-cell *matCellDef="let s">{{ s.name }}</td>
      </ng-container>

      <!-- Surname Column -->
      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="surnameColumn">Surname</th>
        <td mat-cell *matCellDef="let s">{{ s.surname }}</td>
      </ng-container>

      <!-- Group Column -->
      <ng-container matColumnDef="group" *ngIf="!isStudent">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="groupColumn">Group</th>
        <td mat-cell *matCellDef="let s">{{ s.group ? s.group.name: "-" }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="colsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: colsToDisplay"></tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </div>
